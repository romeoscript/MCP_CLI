"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getServerTemplate = getServerTemplate;
function getServerTemplate() {
    return "import { Server } from '@modelcontextprotocol/sdk/server/index.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport {\n  CallToolRequestSchema,\n  ListToolsRequestSchema,\n  ListResourcesRequestSchema,\n  ReadResourceRequestSchema,\n} from '@modelcontextprotocol/sdk/types.js';\n\n// Create server instance\nconst server = new Server(\n  {\n    name: 'example-mcp-server',\n    version: '1.0.0',\n  },\n  {\n    capabilities: {\n      tools: {},\n      resources: {},\n    },\n  }\n);\n\n// List available tools\nserver.setRequestHandler(ListToolsRequestSchema, async () => {\n  return {\n    tools: [\n      {\n        name: 'echo',\n        description: 'Echoes back the input text',\n        inputSchema: {\n          type: 'object',\n          properties: {\n            text: {\n              type: 'string',\n              description: 'Text to echo back',\n            },\n          },\n          required: ['text'],\n        },\n      },\n      {\n        name: 'get_time',\n        description: 'Returns the current server time',\n        inputSchema: {\n          type: 'object',\n          properties: {},\n        },\n      },\n    ],\n  };\n});\n\n// Handle tool calls\nserver.setRequestHandler(CallToolRequestSchema, async (request) => {\n  const { name, arguments: args } = request.params;\n\n  switch (name) {\n    case 'echo':\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `Echo: ${args.text}`,\n          },\n        ],\n      };\n\n    case 'get_time':\n      return {\n        content: [\n          {\n            type: 'text',\n            text: `Current time: ${new Date().toISOString()}`,\n          },\n        ],\n      };\n\n    default:\n      throw new Error(`Unknown tool: ${name}`);\n  }\n});\n\n// List available resources\nserver.setRequestHandler(ListResourcesRequestSchema, async () => {\n  return {\n    resources: [\n      {\n        uri: 'config://server',\n        name: 'Server Configuration',\n        description: 'Current server configuration',\n        mimeType: 'application/json',\n      },\n    ],\n  };\n});\n\n// Read resource content\nserver.setRequestHandler(ReadResourceRequestSchema, async (request) => {\n  const { uri } = request.params;\n\n  if (uri === 'config://server') {\n    return {\n      contents: [\n        {\n          uri,\n          mimeType: 'application/json',\n          text: JSON.stringify({\n            name: 'example-mcp-server',\n            version: '1.0.0',\n            uptime: process.uptime(),\n          }, null, 2),\n        },\n      ],\n    };\n  }\n\n  throw new Error(`Unknown resource: ${uri}`);\n});\n\n// Start server\nasync function main() {\n  const transport = new StdioServerTransport();\n  await server.connect(transport);\n  console.error('MCP Server running on stdio');\n}\n\nmain().catch((error) => {\n  console.error('Server error:', error);\n  process.exit(1);\n});\n";
}
